# gwcplaywright

## Setup
Create a file called ".env" in the root folder
In it, put:
```
GALAXY=FMGNZDEV
PASSWORD="{get the password from someone who knows}"
```
In a terminal window, run `npm i` to install the node modules, or do this via your IDE

### VSCode
Install extensions needed for Visual Studio Code
+ Cucumber
+ Document This
+ JavaScript and TypeScript Nightly
+ Playwright Test for VSCode
+ Prettier

Settings for the Cucumber extension are already included in the repo

### IntelliJ IDEA
Install extensions needed for IntelliJ IDEA
+ Cucumber.js
+ Gherkin
+ Test Automation

## bddgen
`bddgen` is a node package used to generate Playwright tests from Cucumber feature files. Using this package
with Cucumber gives us all the convenience of autocomplete Gherkin steps, looking up step defintions,
generating step code snippets, etc. alongside all of the funtionality of Playwright.<br>
To generate the Playwright tests from the feature files, in a terminal run:
`npx bddgen`

This will generate the spec.js files in the .features-gen folder, and they can then be run via the test tab in VSCode or
via the play button in the gutter of the spec.js file in IDEA

## File structure
`config` folder contains json files that specify configuration such as environments<br>
`.features-gen` folder is generated by the bddgen package and contains the generated spec files<br>
`playwright-report` contains the report generated by Playwright when tests are run<br>
`tests` contains the bulk of the functionality, broken up as follows:<br>

`fixtures.ts` is a special file used by Playwright that especially helps with the page object model<br>
`data` contains json files that are imported during tests<br>
`features` contains the feature files<br>
`models` contains definitions of classes for logical "units" such as a contact or an address<br>
`pages` contains the page object models and also the step definitions, broken up as follows:<br>

`basePage.ts` contains the highest level representation of a page; anything in this file will be included in every page object via inheritance<br>
Everything else is split by center or login

Each center contains a generic `{center}Page.ts` file which extends the `basePage` class, where common elements for that center can be defined, such as `headerNav`<br>
The structure is then broken down according to the tabs at the top of the center page, such as `desktop`, `account`, `policy`, etc.
Each of these folders has a `{tab}Steps.ts` file where the step definitions are defined for everything relating to functionality accessed in that tab
The page objects are included here for each of the pages that exist within that tab

